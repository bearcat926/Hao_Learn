12-2

- 【3小时】开发V8项目的测试模块 - 权限配置
- 【5小时】开发V8项目的测试模块 - 权限配置，工作流配置；测试产品模块的新增，编辑，删除数据；开始测试产品流程的工作流测试

12-3

- 【3小时】开发V8项目的测试模块 - 工作流测试
- 【5小时】开发V8项目的测试模块 - 大体完成测试模块的功能开发工作；在领导张秀伟的帮助下，完成流程测试；解决流程测试中遇到的问题

12-4

- 【3小时】南京大学项目专利模块 - 业务流程梳理及项目熟悉
- 【5小时】南京大学项目专利模块 - 数据对接功能：粗略实现基本信息、发明人录入的代码；专利数据匹配功能：粗略实现专利提案库数据匹配的功能

12-5

- 【3小时】南京大学项目专利模块 - 数据对接功能：实现基本信息、发明人、法律状态录入的代码
- 【5小时】南京大学项目专利模块 - 数据匹配功能：实现专利提案库数据匹配、发明人信息更新；实现定时任务

12-6

- 【3小时】南京大学项目专利模块 - 重新梳理流程的实现逻辑，修改出现问题的代码
- 【8小时】南京大学项目专利模块 - 完成数据对接功能 - 新增和更新部分的代码编写；完成数据匹配功能的逻辑实现

遇到的问题并解决：

1. 打开模块开发模式 -> GET请求添加参数 spadmin=eadp；配置文件中添加 runMode=develop
2. 删除测试产品的数据，之前新增的作者场景未被删除，导致再次创建时，该场景会出现“默认值” -> 根据导出场景SQL中的SQL语句删除对应场景（或对应数据）
3. 菜单权限在创建之后不能被更改 -> 数据库中修改levelType字段的数据
4. 创建场景后，二次修改时时常报错 -> 
5. 科研秘书无法看到工作流数据 -> 配置元数据 - 单位署名；配置角色管理 - 业务过滤：新增（可写:单位署名  属于  科研秘书管理范围）
6. BO对多个库表进行数据库操作 -> 获取BO的bean对象
7. 调用bo.save和dao.saveUpdate时出现类型转换错误：UserInfo和SysCurUserInfo -> 使用dao.save(entitys)
8. Illegal attempt to associate a collection with two open sessions -> 使用dao.merge(entitys)
9. java.sql.DataTruncation: Data truncation -> PATENT_IPC 字段长度 64 -> 128 -> 500

测试出现的问题：

科研人员 
    审核权限 x

秘书 
    查看报错 x
    批量审核 x

管理员 
    导出 x
    两个导出按钮 x


BIZ_PATENT数据库：
PATENT_IPC 字段长度 64 -> 128 -> 500

====================================================================

12-9

- 【3小时】南京大学项目专利模块 - 实现完成人更新功能
- 【6小时】南京大学项目专利模块 - 尝试优化法律信息和完成人的更新部分

12-10

- 【3小时】南京大学项目专利模块 - 完成专利模块优化
- 【8小时】南京大学项目专利模块 - 尝试优化法律信息和完成人的更新部分；更新提交事务时出现问题，加班解决

12-11

- 【3小时】南京大学项目专利模块 - 完成专利模块数据对接功能
- 【6小时】南京大学项目专利模块 - 根据新业务，开始进行完成人功能的开发

12-12

- 【3小时】南京大学项目专利模块 - 测试更新性能，比对数据差异，确认专利更新功能无误
- 【6小时】南京大学项目专利模块 - 实现完成人的更新部分的新功能

遇到的问题并解决：

1.Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1 等数据库操作问题导致更新时出现问题 -> 通过重写dao层接口，并统一session状态解决
2.session中存在一条数据的多个实体（例如级联时） -> clear + addAll

总结：第一次使用hibernate开发企业项目出现了很多的数据库问题占用了太多时间，但是也在其中积累的很多的解决该类问题的经验，并且在开发的过程中，增强了业务代码的构思能力，受益匪浅。

====================================================================

12-16

- 【3小时】南京大学项目专利模块 - 根据更新数据问题，分析问题原因
- 【8小时】南京大学项目专利模块 - 解决法律信息更新部分的bug

12-17

- 【3小时】南京大学项目专利模块 - 分析完成人重名情况的问题原因
- 【8小时】南京大学项目专利模块 - 解决匹配人员表时，出现三人及以上重名的特殊情况的数据问题

12-18

- 【3小时】南京大学项目专利模块 - 解决代理机构字段末尾出现空格字符时导致的重复更新情况
- 【5小时】南京大学项目专利模块 - 解决发明人列表中有重名的情况的数据问题

12-19

- 【3小时】南京大学项目专利模块 - 为确保无误，反复测试专利匹配定时任务；整理提交内容
- 【5小时】南京大学项目专利模块 - 提交开发代码，与运维人员沟通；开始专利报账功能的开发工作

12-20

- 【3小时】南京大学项目专利报账模块 - 完成专利报账数据库设计和实体类的编写
- 【5小时】南京大学项目专利模块 - 专利匹配定时任务执行逻辑修改

12-21

- 【3小时】南京大学项目专利报账模块 - 基本完成专利报账前端页面的开发
- 【4小时】南京大学项目专利模块 - 完成法律状态查看页面的开发和测试，及相关的模块配置和场景配置



遇到的问题并解决：


1. 法律状态更新bug：update时不能保证session中实体状态一致，最终调整为merge方法，并给Many设置patent。

2. 重名情况：
    1.匹配人员表时，出现三人及以上重名
    2.发明人列表中有重名情况
    解决方法代码过多，略。

3.代理机构字段末尾空格字符：编写Trim函数处理字段数据，使其进行正确比较

总结：
已经适应了后端部分开发工作，下周任务可能以前端开发和联调为主，加油吧


====================================================================

请按如下步骤更新：
1，关闭eclipse或myEclipse
2，删除原dropins/expSvnUploadFiles/plugins目录下的所有内容
3，将附件放入dropins/expSvnUploadFiles/plugins目录下
4，删除configuration/org.eclipse.update目录
5，重启eclipse或myEclipse

12-23

- 【3小时】南京大学项目专利报账模块 - 完成专利报账模块列表部分的配置
- 【5小时】南京大学项目专利报账模块 - 专利报账模块新增部分的配置 - 专利报账实体的页面配置和级联问题

12-24

- 【3小时】南京大学项目专利报账模块 - 专利报账模块新增部分的配置 - 专利报账费用实体的页面配置
- 【6小时】南京大学项目专利报账模块 - 解决保存出现多条数据的问题；模块工作流配置；SQL导出；解决审核异常问题

12-25 

- 【3小时】配置产品的开发环境
- 【5小时】修改专利编辑页面提醒成员的BUG

12-26

- 【上午】身体不适，请假
- 【5小时】修改成果列表不稳定出现的BUG；和领导商讨专利模块的新需求

12-27

- 【3小时】修复删除按钮消失的BUG
- 【5小时】查找到删除按钮消失根本原因是PatentDAO中的数据库操作缺乏操作日志相关字段的设置 -> 父类DAO的方法存在用户类型转换错误，重写方法后无误；修复统计分析按钮消失的BUG；开始专利模块新需求的开发工作


12-28

- 【4小时】完成专利对接属性匹配任务；


周总结：
    本周任务量相对于前两周减少了一些，主要任务是对于之前开发的需求补充、一些功能的修改及BUG修复，
    难度都不大，但是调试和确认过程占据了很多时间。
    本周身体状况不好，有时人坐着坐着就会睡着，但是我晚上作息并不会到很晚，具体什么状况，我下周去医院检查一下身体。

月总结：
    对公司使用的技术环境已经逐渐适应，但是对于公司环境还没适应完全，经常会出现迟到的现象，这确实是不应该的。在之后的工作中，我也会避免这种情况的发生。工作方面，我也会继续努力，胜任岗位职责，按时完成任务。
    

1. 专利对接属性匹配规则
   a. 根据发明人和系统人事库进行匹配，如果发明人在人事库中唯一存在，系统自动完成匹配；      √
   b. 重名人员标记存在重名，需认领确认；                                                √
   c. 如第一发明人唯一匹配，自动根据第一发明人的学院初始化专利的所在学院；                 √
   d. 如申请人中的第一单位为“南京大学”自动标记专利为校内第一署名；                        √
   e. 如果申请人中有多个人员（存在分号），专利的合作类型自动标记为联合申请，否则为独立申请  √
   f. 专利范围，信息中心获取的专利全部标记为国内专利                                     √
   g. 如果是pct专利，必须完善pct相关信息。                                             不完全
2. 提供科研人员专利认领功能（该功能已存在，需调试）
   a、科研人员可认领其参与且未被认领的专利；                                             √
   b、专利只能被认领一次，认领后其他发明人不能再次进行认领；                              √
   c、不提供专利完善功能；                                                             √
   d、向个人发送认领消息；                                                             √
注：8.2版中针对专利导入实现个人认领功能，对接第三方数据后应出发认领消息，在待办理处体现认领。


===============================

12-30

- 【5小时】南京大学项目专利模块 - 新需求的功能开发完成，还剩下作者信息还原后的测试工作

12-31

- 【3小时】南京大学项目专利模块 - 根据备份数据还原作者库
- 【5小时】南京大学项目专利模块 - 还原作者库信息后测试并修改完成
